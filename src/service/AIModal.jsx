import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey =import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and detailed daily plans, all in JSON format.\n\n```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\",\n    \"hotels\": [\n      {\n        \"hotelName\": \"Circus Circus Hotel & Casino\",\n        \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$50 - $100/night\",\n         \"hotelImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/22/31/74/circus-circus-hotel-casino.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1247,\n          \"longitude\": -115.1671\n        },\n        \"rating\": 3.5,\n        \"description\": \"A classic Vegas hotel with a carnival theme, known for its affordable rates and family-friendly attractions.\"\n      },\n      {\n        \"hotelName\": \"Excalibur Hotel & Casino\",\n        \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n         \"hotelImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/20/2a/68/20/excalibur-hotel-casino.jpg\",\n        \"price\": \"$60 - $120/night\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0987,\n          \"longitude\": -115.1733\n        },\n        \"rating\": 3.8,\n        \"description\": \"A medieval-themed hotel with a good location on the Strip and affordable dining options.\"\n      },\n       {\n        \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n         \"hotelImageUri\":\"https://media-cdn.tripadvisor.com/media/photo-s/23/86/f3/47/oyo-hotel-casino-las-vegas.jpg\",\n        \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n        \"price\": \"$45 - $90/night\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1020,\n          \"longitude\": -115.1715\n        },\n         \"rating\": 3.4,\n        \"description\": \"An affordable option on the Strip, offering basic amenities and a convenient location.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Exploring the Strip\",\n        \"bestTimeToVisit\": \"Afternoon/Evening\",\n        \"places\": [\n          {\n            \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n            \"placeDetails\": \"Stunning indoor garden that changes seasonally.\",\n             \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/c1/2e/10/bellagio-conservatory-botanical.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1127,\n              \"longitude\": -115.1734\n            },\n            \"ticketPricing\": \"Free\",\n             \"travelTime\": \"Short walk from most Strip hotels\"\n          },\n           {\n              \"placeName\": \"Fountains of Bellagio\",\n              \"placeDetails\": \"Iconic free water show synchronized to music.\",\n              \"placeImageUri\":\"https://media-cdn.tripadvisor.com/media/photo-s/1d/f3/b3/0a/fountains-of-bellagio.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1125,\n                \"longitude\": -115.1736\n              },\n              \"ticketPricing\": \"Free\",\n              \"travelTime\": \"Adjacent to the Conservatory\"\n            },\n            {\n            \"placeName\": \"The LINQ Promenade\",\n            \"placeDetails\": \"Outdoor shopping, dining, and entertainment area with the High Roller observation wheel.\",\n            \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/55/ef/88/the-linq-promenade.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1166,\n              \"longitude\": -115.1693\n            },\n            \"ticketPricing\": \"Free to walk around, but attractions have separate costs.\",\n             \"travelTime\":\"Short walk from Bellagio\"\n          },\n         {\n            \"placeName\": \"Mirage Volcano\",\n             \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1d/f3/57/48/volcano-eruption.jpg\",\n            \"placeDetails\": \"Free volcano eruption show with fire and sound effects.\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1214,\n              \"longitude\": -115.1725\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Walkable from The LINQ Promenade\"\n          }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n        \"bestTimeToVisit\": \"Evening\",\n        \"places\": [\n           {\n            \"placeName\": \"Fremont Street Experience\",\n              \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1d/ed/95/4a/fremont-street-experience.jpg\",\n            \"placeDetails\": \"Covered pedestrian mall with light shows, street performers, and casinos.\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1707,\n              \"longitude\": -115.1403\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Take the bus or a rideshare from the Strip (~15-20 minutes)\"\n          },\n          {\n             \"placeName\": \"Container Park\",\n             \"placeImageUri\":\"https://media-cdn.tripadvisor.com/media/photo-s/0b/48/8c/70/downtown-container-park.jpg\",\n            \"placeDetails\": \"Unique outdoor shopping and dining area constructed from shipping containers.\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1698,\n              \"longitude\": -115.1373\n            },\n            \"ticketPricing\": \"Free to enter, costs for shopping and dining.\",\n            \"travelTime\": \"Short walk from Fremont Street Experience\"\n          },\n           {\n            \"placeName\": \"SlotZilla Zip Line\",\n            \"placeDetails\": \"Thrill ride zip line over Fremont Street.\",\n            \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/07/7c/a2/20/slotzilla-zip-line.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1709,\n              \"longitude\": -115.1401\n            },\n            \"ticketPricing\": \"$29-$49\",\n            \"travelTime\": \"Located in Fremont Street Experience\"\n          }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Off-Strip Activities & Relaxation\",\n        \"bestTimeToVisit\": \"Morning/Afternoon\",\n        \"places\": [\n           {\n           \"placeName\": \"Red Rock Canyon National Conservation Area\",\n            \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/e4/d1/78/red-rock-canyon-national.jpg\",\n            \"placeDetails\": \"Scenic desert landscapes with hiking trails and rock formations.\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1364,\n              \"longitude\": -115.4136\n            },\n            \"ticketPricing\": \"$15 per vehicle\",\n            \"travelTime\": \"Drive or take a tour (~20-30 minutes from the Strip)\"\n          },\n           {\n            \"placeName\": \"The Neon Museum\",\n             \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/9b/49/a5/neon-museum.jpg\",\n            \"placeDetails\": \"Outdoor museum with vintage Las Vegas neon signs.\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1748,\n              \"longitude\": -115.1418\n            },\n            \"ticketPricing\": \"$28 general admission\",\n            \"travelTime\": \"Drive or rideshare from Red Rock (~25-30 minutes)\"\n\n          },\n         {\n           \"placeName\": \"Pool Time/Relax\",\n            \"placeDetails\": \"Enjoy a final few hours relaxing at your hotel pool.\",\n            \"placeImageUri\": \"https://media-cdn.tripadvisor.com/media/photo-s/11/37/1e/58/pool.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": \"Hotel Specific Location\",\n              \"longitude\": \"Hotel Specific Location\"\n            },\n            \"ticketPricing\":\"Free for Hotel guest\",\n           \"travelTime\": \"At your hotel\"\n         }\n        ]\n      }\n    }\n  }\n}\n```\n**Explanation:**\n\n*   **Hotels:** The hotel options are all budget-friendly, located on or near the Strip, and have decent ratings. Prices are estimates and can vary.\n*   **Itinerary:**\n    *   **Day 1:** Focuses on the famous attractions of the Las Vegas Strip that are free or cheap like Bellagio Conservatory, Bellagio fountain, LINQ promenade and Mirage Volcano.\n    *   **Day 2:**  Ventures to Downtown Las Vegas and the Fremont Street Experience.\n    *   **Day 3:** Includes an off-strip activity like visiting Red Rock and  a museum visit along with a relaxing hotel pool time.\n*   **Pricing:** Ticket prices are estimates and subject to change.\n*  **Travel time** : Estimated time to travel each of the locations.\n*   **Best Time to Visit:** Provides guidance on the optimal time of day to experience each day's activities.\n\n**Important Tips for a Cheap Trip:**\n\n*   **Travel in the off-season:**  Avoid weekends, holidays, and big events for lower hotel rates.\n*   **Take advantage of free activities:** There are many free shows, attractions, and walking areas in Las Vegas.\n*   **Eat smart:** Look for affordable dining options and take advantage of happy hour deals.\n*   **Utilize public transportation:**  Buses and the monorail can be cheaper than taxis and rideshares.\n*   **Pack snacks and water:** Avoid paying inflated prices for food and drinks on the Strip.\n*   **Consider a hotel with freebies:** Some hotels offer free breakfast or other perks.\n\n**Note:** The provided hotel image URLs are for illustrative purposes. You can find more updated images in their respective official website. Always double-check prices and timings closer to your travel dates.\n"},
          ],
        },
      ],
    }); 
  

 